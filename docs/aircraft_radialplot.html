<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Aircraft Hierarchy Radial Plot</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Vega libraries -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.20.1"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 2em;
      background: #f9f9f9;
      color: #333;
    }

    h1 {
      text-align: center;
      margin-bottom: 0.2em;
    }

    p.description {
      text-align: center;
      max-width: 700px;
      margin: 0 auto 2em;
      font-size: 1.1em;
      line-height: 1.4;
    }

    #vis {
      max-width: 100%;
      overflow-x: auto;
      margin: 0 auto;
    }

    .vega-embed {
      width: 100% !important;
    }
  </style>
</head>
<body>

  <h1>Aircraft Hierarchy Radial Plot</h1>
  <p class="description">
    This chart shows the hierarchical distribution of aircraft by manufacturer, family, and variant.
    Each segment's size reflects the number of aircraft variants within each group.
    Hover over the arcs to see details.
  </p>

  <div id="vis"></div>

  <script>
    (function(vegaEmbed) {
      var spec = { /* your original Vega-Lite spec (unchanged) */ };

      var embedOpt = { mode: "vega-lite" };

      function showError(el, error){
        el.innerHTML = ('<div style="color:red;">'
                        + '<p>JavaScript Error: ' + error.message + '</p>'
                        + "<p>This usually means there's a typo in your chart specification. "
                        + "See the JavaScript console for the full traceback.</p>"
                        + '</div>');
        throw error;
      }

      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);
  </script>

</body>
</html>
